!function(){"use strict";var t="undefined"==typeof window?global:window;if("function"!=typeof t.require){var r={},e={},n={}.hasOwnProperty,a={},i=function(t,r){var e=0;r&&(r.indexOf(!1)&&(e="components/".length),r.indexOf("/",e)>0&&(r=r.substring(e,r.indexOf("/",e))));var n=a[t+"/index.js"]||a[r+"/deps/"+t+"/index.js"];return n?"components/"+n.substring(0,n.length-".js".length):t},u=function(){var t=/^\.\.?(\/|$)/;return function(r,e){var n,a,i=[];n=(t.test(e)?r+"/"+e:e).split("/");for(var u=0,o=n.length;o>u;u++)a=n[u],".."===a?i.pop():"."!==a&&""!==a&&i.push(a);return i.join("/")}}(),o=function(t){return t.split("/").slice(0,-1).join("/")},c=function(r){return function(e){var n=u(o(r),e);return t.require(n,r)}},s=function(t,r){var n={id:t,exports:{}};return e[t]=n,r(n.exports,c(t),n),n.exports},l=function(t,a){var o=u(t,".");if(null==a&&(a="/"),o=i(t,a),n.call(e,o))return e[o].exports;if(n.call(r,o))return s(o,r[o]);var c=u(o,"./index");if(n.call(e,c))return e[c].exports;if(n.call(r,c))return s(c,r[c]);throw new Error('Cannot find module "'+t+'" from "'+a+'"')};l.alias=function(t,r){a[r]=t},l.register=l.define=function(t,e){if("object"==typeof t)for(var a in t)n.call(t,a)&&(r[a]=t[a]);else r[t]=e},l.list=function(){var t=[];for(var e in r)n.call(r,e)&&t.push(e);return t},l.brunch=!0,t.require=l}}(),require.register("application",function(t,r,e){"use strict";var n="data/data.csv",a={init:function(){r("charts").init(n)}};e.exports=a}),require.register("charts",function(t,r,e){t.init=function(t){function e(t,e){data=r("dataparse").parse(e),nodes=data[0],links=data[1];var n=(crossfilter(data),crossfilter(links)),a=n.dimension(function(t){return+t.year}),i=n.dimension(function(t){return+t.quarter}),u=n.dimension(function(t){return+t.law}),o=a.group().reduceSum(function(t){return+t.euro}),c=i.group().reduceSum(function(t){return+t.euro}),s=u.group().reduceSum(function(t){return+t.euro});yearsChart.width(180).height(180).radius(80).dimension(a).group(o),quarterChart.width(180).height(180).radius(80).dimension(i).group(c),lawsChart.width(180).height(180).radius(80).dimension(u).group(s),dc.renderAll()}var n=queue().defer(d3.dsv(";","text/csv"),t);yearsChart=dc.pieChart("#years-chart"),quarterChart=dc.pieChart("#quarter-chart"),lawsChart=dc.pieChart("#laws-chart"),n.await(e)}}),require.register("dataparse",function(t,r,e){t.parse=function(t){var r=[],e=[];return Number.prototype.roundToTwo=function(){return Math.round(100*this)/100},t.forEach(function(t){if(0==+t.LEERMELDUNG){var n=-1,a=-1;t.EURO=parseFloat(t.EURO.replace(",","."));for(var i=0;(-1==n||-1==a)&&i<r.length;i++){if(t.EURO>1e7)return;r[i].name==t.RECHTSTRGER&&(n=i,r[i].overall=(r[i].overall+t.EURO).roundToTwo()),r[i].name==t.MEDIUM_MEDIENINHABER&&(a=i,r[i].overall=(r[i].overall+t.EURO).roundToTwo())}-1==n&&(r.push({name:t.RECHTSTRGER,overall:t.EURO,gov:1}),n=r.length-1),-1==a&&(r.push({name:t.MEDIUM_MEDIENINHABER,overall:t.EURO,gov:0}),a=r.length-1),e.push({source:n,target:a,quarter:+t.QUARTAL.substring(4),year:+t.QUARTAL.substring(0,4),law:+t.BEKANNTGABE,euro:t.EURO})}}),[r,e]}}),require.register("multiBarChart",function(t,r,e){dc.multiGroupMixin=function(t){return t._groups=new Array,t._groupGap=5,t.groups=function(r){return arguments.length?(t._groups=r,t.expireCache(),t):t._groups},t.groupGap=function(r){return arguments.length?(t._groupGap=r,t):t._groupGap},t.legendables=function(){var r=new Array;return t.groups().forEach(function(e,n){var a={chart:t,name:e.title,hidden:!1,color:t.colors()(n)};r.push(a)}),r},t},dc.multiBarChart=function(t,r){function e(){var t=0,r=d.groups();t=d3.max(r,function(t,r){return d3.max(t.dimgroup.all(),function(t,r){return 5.5*d._labelFormatter(t.valueAccessor(t)).length})}),p=t}function n(t){return dc.utils.safeNumber(Math.abs(d.y()(t.y+t.y0)-d.y()(t.y0)))}function a(t){var r=0,e="out",n=(d.y().range()[0],d.y()(t.y+t.y0));return 15>n?(r=n+15,e="in"):r=n-5,r=dc.utils.safeNumber(r),{y:r,p:e}}function i(t,r,e){var i=t.selectAll("g.bargr").data(e.data),u=i.enter().append("g").attr("class","bargr");if(u.append("rect").attr("class","bar").attr("fill",function(t){return d.colors()(r)}).attr("height",0).attr("width",s).attr("x",function(t){var e;return e=d.x()(t.x)+d.groupGap()/2,e+=r*(s+f),e+=f/2,dc.utils.safeNumber(e)}).attr("y",function(t){return d.y()(0)}),d.renderTitle(),d.isOrdinal()&&i.on("click",o),dc.transition(i.selectAll("rect.bar"),d.transitionDuration()).attr("y",function(t){var r=d.y()(t.y+t.y0);return t.y<0&&(r-=n(t)),dc.utils.safeNumber(r)}).attr("height",function(t){return n(t)}),dc.transition(i.exit(),d.transitionDuration()).attr("height",function(t){return 0}).remove(),d.barLabels()&&s>=p){u.append("text").attr("class","bar-label").attr("text-anchor","middle").attr("y",function(t){return d.y()(0)}).attr("data-prevvalue",function(t){return t.valueAccessor(t)});var c=t.selectAll("text.bar-label").data(e.data).text(function(t){var r=Math.abs(t.valueAccessor(t)),e=d._labelFormatter(r);return e});dc.transition(c,d.transitionDuration()).attr("x",function(t){var e=d.x()(t.x);return d.isOrdinal()&&(e+=s/2,e+=.5*d.groupGap()+.5*f,e+=r*(s+f)),dc.utils.safeNumber(e)}).attr("y",function(t){return a(t).y}).style("fill",function(t){return"in"==a(t).p?"white":"out"==a(t).p?"#3d3d3d":void 0}).tween("text",function(t){var r,e,n;return r=d3.select(this).attr("data-prevvalue"),e=t.valueAccessor(t),n=d3.interpolate(r,e),function(t){this.textContent=d._labelFormatter(n(t))}}).each("end",function(t){d3.select(this).attr("data-prevvalue",function(t){return t.valueAccessor(t)})})}}function u(){if(void 0===s){d.xUnitCount()*d.groups().length;s=(d.x().rangeBand()-d.groupGap())/d.groups().length-f}}function o(t){d.onClick(t)}function c(t,r){return function(){var e=d3.select(this),n=e.attr("fill")==t;return r?!n:n}}var s,l=2,d=dc.multiGroupMixin(dc.stackMixin(dc.coordinateGridMixin({}))),f=l,g=!1,h=!1,p=0;return dc.override(d,"rescale",function(){d._rescale(),s=void 0}),d._labelFormatter=function(t){return t},d._barLabels=!1,dc.override(d,"render",function(){d.round()&&g&&!h&&dc.logger.warn("By default, brush rounding is disabled if bars are centered. See dc.js bar chart API documentation for details."),d._render()}),d.plotData=function(){var t=new Array;d.groups().forEach(function(r,e){var n={};n.data=r.dimgroup.all(),n.data.forEach(function(t,e){t.valueAccessor=r.accessor,t.x=d.keyAccessor()(t),t.y=t.valueAccessor(t),t.y0=0}),t.push(n)});var r=d.chartBodyG().selectAll("g.series").data(t);u(),e(),r.enter().append("g").attr("class",function(t,r){return"series _"+r}),r.each(function(t,r){var e=d3.select(this);i(e,r,t)})},d.fadeDeselectedArea=function(){var t=d.chartBodyG().selectAll("rect.bar"),r=d.brush().extent();if(d.isOrdinal())d.hasFilter()?(t.classed(dc.constants.SELECTED_CLASS,function(t){return d.hasFilter(t.x)}),t.classed(dc.constants.DESELECTED_CLASS,function(t){return!d.hasFilter(t.x)})):(t.classed(dc.constants.SELECTED_CLASS,!1),t.classed(dc.constants.DESELECTED_CLASS,!1));else if(d.brushIsEmpty(r))t.classed(dc.constants.DESELECTED_CLASS,!1);else{var e=r[0],n=r[1];t.classed(dc.constants.DESELECTED_CLASS,function(t){return t.x<e||t.x>=n})}},d.centerBar=function(t){return arguments.length?(g=t,d):g},d.barPadding=function(t){return arguments.length?(d._rangeBandPadding(t),f=0,d):d._rangeBandPadding()},d.outerPadding=d._outerRangeBandPadding,d.gap=function(t){return arguments.length?(f=t,d):f},d.extendBrush=function(){var t=d.brush().extent();return!d.round()||g&&!h||(t[0]=t.map(d.round())[0],t[1]=t.map(d.round())[1],d.chartBodyG().select(".brush").call(d.brush().extent(t))),t},d.alwaysUseRounding=function(t){return arguments.length?(h=t,d):h},d.barLabels=function(t){return arguments.length?(d._barLabels=t,d):d._barLabels},d.labelFormatter=function(t){return arguments.length?(d._labelFormatter=t,d):d._labelFormatter},d.legendHighlight=function(t){d.isLegendableHidden(t)||d.g().selectAll("rect.bar").classed("highlight",c(t.color)).classed("fadeout",c(t.color,!0))},d.legendReset=function(){d.g().selectAll("rect.bar").classed("highlight",!1).classed("fadeout",!1)},d.yAxisMax=function(){var t=d3.max(d.groups(),function(t){var r=d3.max(t.dimgroup.all(),function(r){return t.accessor(r)});return r});return t},dc.override(d,"xAxisMax",function(){var t=this._xAxisMax();if("resolution"in d.xUnits()){var r=d.xUnits().resolution;t+=r}return t}),d.anchor(t,r)},dc.multiRowChart=function(t,r){function e(){if(!m||x){var t=d3.max(M.groups(),function(t){var r=d3.max(t.dimgroup.all(),function(r){return t.accessor(r)});return r});m=d3.scale.linear().domain([0,t]).range([0,M.effectiveWidth()])}T.scale(m)}function n(t){var r=-1,e=new Array;return M.dimension().group().all().forEach(function(t,r){e.push(5.5*M._titleLabelFormatter(t.value).length)}),r=d3.max(e)}function a(){var t=b.length*M.dimension().group().all().length,r=0;return C?r=C:(r=M.effectiveHeight()/t,r*=1-M.groupGap(),r*=1-M.gap()),r}function i(){var t=v.select("g.axis");e(),t.empty()&&(t=v.append("g").attr("class","axis").attr("transform","translate(0, "+M.effectiveHeight()+")")),dc.transition(t,M.transitionDuration()).call(T)}function u(){v.selectAll("g.tick").select("line.grid-line").remove(),v.selectAll("g.tick").append("line").attr("class","grid-line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",function(){return-M.effectiveHeight()})}function o(){b=M.groups();var t=M.dimension().group().all(),r=v.selectAll("g."+L).data(t);i(),u(),c(r),l(r),d(r)}function c(t){var r=t.enter().append("g").attr("class",function(t,r){return L+" _"+r});t.each(function(t,r){var e=d3.select(this);e.attr("transform",function(t,e){var n=M.effectiveHeight()/M.dimension().group().all().length,a=r*n+.5*M.groupGap()*n;return"translate(0, "+a+")"}),s(e,r)}),f(r),g(r)}function s(t,r){var e=Array(),n=a();b.forEach(function(t,n){var a={};a.accessor=t.accessor,a.data=t.dimgroup.all()[r],e.push(a)});var i=t.selectAll("g."+R).data(e),u=i.enter();u.append("g").attr("class",function(t,r){return R+" _"+r}).on("click",h).append("rect").attr("class","row-bar").attr("width",0).attr("y",function(t,r){return n*(1+M.gap())*r}).attr("height",n).attr("fill",function(t,r){return M.colors()(r)})}function l(t){t.exit().remove()}function d(t){var r=v.selectAll("rect.row-bar").classed("deselected",function(t){return M.hasFilter()?!p(t):!1}).classed("selected",function(t){return M.hasFilter()?p(t):!1});dc.transition(r,M.transitionDuration()).attr("width",function(t){var r=m(m(0)==-(1/0)?1:0);return Math.abs(r-m(t.accessor(t.data)))})}function f(t){var r=a();M.renderLabel()&&t.append("text").attr("class",function(t,r){return R+" row-label _"+r}).attr("text-anchor","end").attr("x",-E).text(function(t){return M.label()(t)}),M.renderTitleLabel()&&r>=10&&t.selectAll("g.row").append("text").attr("class",function(t,r){return S+" _"+r}).text("0").attr("text-anchor","start").attr("data-prevvalue",function(t){return t.accessor(t.data)}).attr("x",E).on("click",function(){console.log(this)})}function g(){var t=M.selectAll(".row-group")[0],r=v.selectAll("g.row"),e=a();if(M.renderLabel()&&t.forEach(function(t,r){d3.select(t).selectAll(".row-label").attr("y",function(){var t=e/2*b.length+this.getBBox().height/2-2.5;return t})}),M.renderTitleLabel()&&e>=10){var i=r.select("text.value-label").text(function(t,r){return M.titleLabelFormatter()(t.accessor(t.data))});t.forEach(function(t,r){var n=d3.select(t).selectAll("g.row");n[0].forEach(function(t,r){var n=d3.select(t).select("text");n.attr("y",function(){return r*e*(1+_)+(e+this.getBBox().height)/2-2.5})})}),dc.transition(i,M.transitionDuration()).attr("x",function(t){var r=M.x()(M.valueAccessor()(t.data))+E;return r=d3.max([E,r]),r=d3.min([M.effectiveWidth()-n(b)-E,r])}).tween("text",function(t){var r,e,n;return r=d3.select(this).attr("data-prevvalue"),e=M.valueAccessor()(t.data),n=d3.interpolate(r,e),function(t){this.textContent=M.titleLabelFormatter()(n(t))}}).each("end",function(t){d3.select(this).attr("data-prevvalue",function(t){return t.accessor(t.data)})})}}function h(t){M.onClick(t.data)}function p(t){return M.hasFilter(M.cappedKeyAccessor(t.data))}var v,m,x,b,E=10,A=15,y=!1,w=2,_=.02,C=!1,L="row-group",R="row",S="value-label",D=!1,M=dc.multiGroupMixin(dc.capMixin(dc.marginMixin(dc.colorMixin(dc.baseMixin({}))))),T=d3.svg.axis().orient("bottom");return M.rowsCap=M.cap,M._titleLabelFormatter=function(t){return t},M._doRender=function(){return M.resetSvg(),v=M.svg().append("g").attr("transform","translate("+M.margins().left+","+M.margins().top+")"),o(),M},M.title(function(t){return M.cappedKeyAccessor(t)+": "+M.cappedValueAccessor(t)}),M.label(M.cappedKeyAccessor),M.x=function(t){return arguments.length?(m=t,M):m},M.renderTitleLabel=function(t){return arguments.length?(D=t,M):D},M.titleLabelFormatter=function(t){return arguments.length?(M._titleLabelFormatter=t,M):M._titleLabelFormatter},M._doRedraw=function(){return o(),M},M.xAxis=function(){return T},M.fixedBarHeight=function(t){return arguments.length?(C=t,M):C},M.fixedBarHeight=function(t){return arguments.length?(C=t,M):C},M.gap=function(t){return arguments.length?(_=t,M):_},M.elasticX=function(t){return arguments.length?(x=t,M):x},M.labelOffsetX=function(t){return arguments.length?(E=t,M):E},M.labelOffsetY=function(t){return arguments.length?(A=t,M):A},M.labelCenterY=function(t){return arguments.length?(y=t,M):y},M.titleLabelOffsetX=function(t){return arguments.length?(w=t,M):w},M.anchor(t,r)}});