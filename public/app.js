!function(){"use strict";var e="undefined"==typeof window?global:window;if("function"!=typeof e.require){var t={},a={},n={}.hasOwnProperty,r={},i=function(e,t){var a=0;t&&(t.indexOf(!1)&&(a="components/".length),t.indexOf("/",a)>0&&(t=t.substring(a,t.indexOf("/",a))));var n=r[e+"/index.js"]||r[t+"/deps/"+e+"/index.js"];return n?"components/"+n.substring(0,n.length-".js".length):e},l=function(){var e=/^\.\.?(\/|$)/;return function(t,a){var n,r,i=[];n=(e.test(a)?t+"/"+a:a).split("/");for(var l=0,o=n.length;o>l;l++)r=n[l],".."===r?i.pop():"."!==r&&""!==r&&i.push(r);return i.join("/")}}(),o=function(e){return e.split("/").slice(0,-1).join("/")},s=function(t){return function(a){var n=l(o(t),a);return e.require(n,t)}},d=function(e,t){var n={id:e,exports:{}};return a[e]=n,t(n.exports,s(e),n),n.exports},c=function(e,r){var o=l(e,".");if(null==r&&(r="/"),o=i(e,r),n.call(a,o))return a[o].exports;if(n.call(t,o))return d(o,t[o]);var s=l(o,"./index");if(n.call(a,s))return a[s].exports;if(n.call(t,s))return d(s,t[s]);throw new Error('Cannot find module "'+e+'" from "'+r+'"')};c.alias=function(e,t){r[t]=e},c.register=c.define=function(e,a){if("object"==typeof e)for(var r in e)n.call(e,r)&&(t[r]=e[r]);else t[e]=a},c.list=function(){var e=[];for(var a in t)n.call(t,a)&&e.push(a);return e},c.brunch=!0,e.require=c}}(),require.register("application",function(e,t,a){var n="data/data.csv";t("globalFunctions");var r={init:function(){var e=t("views/nav");$("body").prepend(e);var a=t("views/charts");$(".starter-template").append(a),t("charts").init(n)}};a.exports=r}),require.register("charts",function(e,t,a){e.init=function(e){$("#my-charts").hide();var a=queue().defer(d3.dsv(";","text/csv"),e);timeBarChart=dc.barChart("#time-bar-chart"),lawsBarChart=dc.barChart("#laws-bar-chart"),expensesBarChart=dc.barChart("#expenses-bar-chart"),trendBarChart=dc.barChart("#trend-bar-chart"),legalCount=dc.dataCount("#data-count-legal"),mediaCount=dc.dataCount("#data-count-media"),legalTable=dc.dataTable("#legal-table"),mediaTable=dc.dataTable("#media-table"),legalTablePaging=new TablePaging(legalTable,0,10,"#legal-paging"),mediaTablePaging=new TablePaging(mediaTable,0,10,"#media-paging"),a.await(function(e,a){t("data").init(),t("dimensions").init(),t("filterCharts").initTimeBar(timeBarChart),t("filterCharts").initLawBar(lawsBarChart),t("filterCharts").initExpensesBar(expensesBarChart),t("filterCharts").initTrendBar(trendBarChart),t("chordChart").init(),t("tables").initCount(),t("tables").initTables(),dc.renderAll(),showTags(),$("#dataLoading").hide(),$("#my-charts").show(),$("#legalSearchReset").hide(),$("#mediaSearchReset").hide(),t("listeners").create()})}}),require.register("chordChart",function(e,t,a){e.init=function(){var e=[700,700],a=[30,30,30,30],n=[];n[0]=e[0]-a[1]-a[3],n[1]=e[1]-a[0]-a[2];var r=d3.scale.ordinal().range(["#9C6744","#C9BEB9","#CFA07E","#C4BAA1","#C2B6BF","#121212","#8FB5AA","#85889E","#9C7989","#91919C","#242B27","#212429","#99677B","#36352B","#33332F","#2B2B2E","#2E1F13","#2B242A","#918A59","#6E676C","#6E4752","#6B4A2F","#998476","#8A968D","#968D8A","#968D96","#CC855C","#967860","#929488","#949278","#A0A3BD","#BD93A1","#65666B","#6B5745","#6B6664","#695C52","#56695E","#69545C","#565A69","#696043","#63635C","#636150","#333131","#332820","#302D30","#302D1F","#2D302F","#CFB6A3","#362F2A"]),i=d3.layout.chord().padding(.02).sortSubgroups(d3.ascending),l=t("matrixFactory").chordMatrix().layout(i).filter(function(e,t,a){return e.source===t.name&&e.target===a.name||e.source===a.name&&e.target===t.name}).reduce(function(e,t,a){var n;return n=e[0]?e.reduce(function(e,n){return t===a?e+n.euro:e+(n.source===t.name?n.euro:n.euro)},0):0,{value:n,data:e}}),o=n[1]/2-100,d=d3.svg.arc().innerRadius(o).outerRadius(o+10),c=d3.svg.chord().radius(o),u=d3.select("#chord-chart").append("svg").attr("class","chart").attr({width:e[0]+"px",height:e[1]+"px"}).attr("preserveAspectRatio","xMinYMin").attr("viewBox","0 0 "+e[0]+" "+e[1]),p=u.append("g").attr("class","container").attr("transform","translate("+(n[0]/2+a[3])+","+(n[1]/2+a[0])+")"),h=u.append("text").attr("class","messages").attr("transform","translate(10, 10)").text("Updating...");drawChords=function(e){function t(e){d3.event.preventDefault(),d3.event.stopPropagation(),u(e),entry=l.read(e),id=+entry.gname,1==nodes[id].gov&&id!=sourceRestId?legalTableFilter.indexOf(id)<0&&(legalTableFilter.push(id),legalDim.filterFunction(function(e){return legalTableFilter.indexOf(e)>-1}),updateAll()):0==nodes[id].gov&&id!=targetRestId&&(mediaTableFilter.indexOf(id)<0&&mediaTableFilter.push(id),mediaDim.filterFunction(function(e){return mediaTableFilter.indexOf(e)>-1}),updateAll()),i()}function a(e){d3.event.preventDefault(),d3.event.stopPropagation(),u(e),chordTooltip.style("opacity",.9),chordTooltipUpdate(l.read(e))}function n(e){d3.event.preventDefault(),d3.event.stopPropagation(),u(e),chordTooltip.style("opacity",.9),chordTooltipUpdate(l.read(e))}function i(){d3.event.preventDefault(),d3.event.stopPropagation(),chordTooltip.style("opacity",0),p.selectAll("path.chord").style("opacity",.9)}function u(e){d3.event.preventDefault(),d3.event.stopPropagation(),p.selectAll("path.chord").style("opacity",function(t){return e.source?t._id===e._id?.9:.1:t.source._id===e._id||t.target._id===e._id?.9:.1})}for(var m=13,g=new Array,f=e.top(1/0).sort(function(e,t){return t.euro-e.euro}),b=new Array,v={source:sourceRestId,target:targetRestId,quarter:-1,year:-1,law:-1,euro:0},y=!1,T=0;T<f.length;T++){s=f[T];var A=g.indexOf(s.source)>=0,x=g.indexOf(s.target)>=0;if(0>=m)if(A&&x)b.push(s);else if(v.euro+=s.euro,A||x){var w=jQuery.extend(!0,{},s);A?w.target=targetRestId:w.source=sourceRestId,b.push(w)}else y=!0;else b.push(s),A||g.push(s.source),x||g.push(s.target),A&&x||m--}y&&b.push(v),h.attr("opacity",.9),h.transition().duration(1e3).attr("opacity",0),l.data(b).resetKeys().addKeys(["source","target"]).update();var S=p.selectAll("g.group").data(l.groups(),function(e){return+e._id}),D=S.enter().append("g").attr("class","group");D.append("path").attr("class",function(e){return 1==nodes[e._id].gov?"chordLabelGov":"chordLabelNonGov"}).attr("d",d).on("click",t).on("mouseover",n).on("mouseout",i),D.append("text").attr("dy",".35em").on("click",t).on("mouseover",n).on("mouseout",i).text(function(e){return shortenLongName(nodes[e._id].name,20)}),S.select("path").transition().duration(2e3).attrTween("d",l.groupTween(d)),S.select("text").transition().duration(2e3).attr("transform",function(e){e.angle=(e.startAngle+e.endAngle)/2;var t="rotate("+(180*e.angle/Math.PI-90)+")",a=" translate("+(o+14)+")";return t+a+(e.angle>Math.PI?" rotate(180)":" rotate(0)")}).attr("text-anchor",function(e){return e.angle>Math.PI?"end":"begin"}).attr("class",function(e){return 1==nodes[e._id].gov?"chordLabelGov":"chordLabelNonGov"}),S.exit().select("text").attr("fill","orange"),S.exit().select("path").remove(),S.exit().transition().duration(1e3).style("opacity",0).remove();var k=p.selectAll("path.chord").data(l.chords(),function(e){return e._id});k.enter().append("path").attr("class","chord").style("fill",function(e){return r(e.source.index)}).attr("d",c).on("mouseover",a).on("mouseout",i),k.transition().duration(2e3).attrTween("d",l.chordTween(c)),k.exit().remove()},resizeChordChart=function(){var t=$("#chord-chart").width();u.attr({width:t,height:t/(e[0]/e[1])})},drawChords(legalDim),resizeChordChart()}}),require.register("data",function(e,t,a){e.init=function(){hasLocalStorage="undefined"!=typeof Storage,hasLocalStorage?(data=JSON.parse(localStorage.getItem("data")),null==data&&(data=t("dataparse").parse(rawData),localStorage.setItem("data",JSON.stringify(data)))):data=t("dataparse").parse(rawData),nodes=data[0],links=data[1],ndxLinks=crossfilter(links),binwidth=1e3,sourceRestId=nodes.length,nodes.push({name:"Sonstige Rechtsträger",gov:1}),targetRestId=nodes.length,nodes.push({name:"Sonstige Medien",gov:0}),hasLocalStorage?(combinedObj=JSON.parse(localStorage.getItem("combinedObj")),null==combinedObj&&(combinedObj=new Array)):combinedObj=new Array}}),require.register("dataparse",function(e,t,a){"use strict";e.parse=function(e){var t=[],a=[];return e.forEach(function(e){if(0==+e.LEERMELDUNG){var n=-1,r=-1;e.EURO=parseFloat(e.EURO.replace(",","."));for(var i=0;(-1==n||-1==r)&&i<t.length;i++){if(e.EURO>1e7)return;t[i].name==e.RECHTSTRGER&&(n=i),t[i].name==e.MEDIUM_MEDIENINHABER&&(r=i)}-1==n&&(t.push({name:e.RECHTSTRGER,gov:1,comb:0}),n=t.length-1),-1==r&&(t.push({name:e.MEDIUM_MEDIENINHABER,gov:0,comb:0}),r=t.length-1),a.push({source:n,target:r,quarter:+e.QUARTAL.substring(4),year:+e.QUARTAL.substring(0,4),law:+e.BEKANNTGABE,euro:e.EURO})}}),[t,a]}}),require.register("dimensions",function(e,t,a){e.init=function(){var e=function(e){return Math.abs(e.value)>.001},t=function(e){return Math.abs(e.value.total)>.001},a=function(e,t){return{all:function(){return e.all().filter(t)},top:function(a){return e.top(1/0).filter(t).slice(0,a)},bottom:function(a){return e.top(1/0).filter(t).slice(-a)},size:function(){return e.all().filter(t).length}}},n=function(e,t){return e.sources[t.source]||(e.sources[t.source]=0,++e.sources.count),e.targets[t.target]||(e.targets[t.target]=0,++e.targets.count),e.sources[t.source]++,e.targets[t.target]++,e.count=Math.max(e.sources.count,e.targets.count),e.total+=+t.euro,10*+t.year+t.quarter<halfQuarter?e.trendBefore+=+t.euro:e.trendAfter+=+t.euro,e.trend=(e.trendAfter-e.trendBefore)/e.total,e},r=function(e,t){return e.sources[t.source]>1?--e.sources[t.source]:(delete e.sources[t.source],--e.sources.count),e.targets[t.target]>1?--e.targets[t.target]:(delete e.targets[t.target],--e.targets.count),e.count=Math.max(e.sources.count,e.targets.count),e.total-=+t.euro,10*+t.year+t.quarter<halfQuarter?e.trendBefore-=+t.euro:e.trendAfter-=+t.euro,e.trend=(e.trendAfter-e.trendBefore)/e.total,e},i=function(){return{count:0,total:0,trend:0,trendAfter:0,trendBefore:0,sources:{count:0},targets:{count:0}}};legalDim=ndxLinks.dimension(function(e){return+e.source}),legalDim2=ndxLinks.dimension(function(e){return+e.source}),mediaDim=ndxLinks.dimension(function(e){return+e.target}),mediaDim2=ndxLinks.dimension(function(e){return+e.target}),lawsDim=ndxLinks.dimension(function(e){return+e.law}),timeDim=ndxLinks.dimension(function(e){return 10*+e.year+e.quarter}),spendDim=ndxLinks.dimension(function(e){return Math.floor(+e.euro/binwidth)}),spendPerTime=a(timeDim.group().reduceSum(function(e){return+e.euro}),e),spendPerLaw=a(lawsDim.group().reduceSum(function(e){return+e.euro}),e),quarterNames=spendPerTime.all().map(function(e){return e.key}),halfQuarter=quarterNames[Math.floor(quarterNames.length/2)],quartalSelection=[];for(var l=quarterNames.length-1;l>=0;l--)quartalSelection[l]=0;spendGroup=a(spendDim.group().reduce(n,r,i),t),groupedLegalDim=a(legalDim.group().reduce(n,r,i),t),groupedMediaDim=a(mediaDim.group().reduce(n,r,i),t),sourceToValue={},groupedLegalDim.all().forEach(function(e){sourceToValue[e.key]=e.value}),trendDim=ndxLinks.dimension(function(e){return sourceToValue[+e.source].trend}),trendGroup=a(trendDim.group().reduce(n,r,i),t)}}),require.register("filterCharts",function(e,t,a){"use strict";e.initTimeBar=function(e){var t=function(e){var t=timeBarChart.title()(e.data);filterTooltip.transition().duration(400).style("opacity",.9).style("left",d3.event.x+5+"px").style("top",d3.event.y-35+"px"),filterTooltip.html(t)},a=function(e){filterTooltip.transition().duration(500).style("opacity",0)};timeBarChart.width(function(){return $("#time-bar-chart").width()}).height(200).margins({top:10,right:10,bottom:60,left:80}).gap(10).dimension(timeDim).group(spendPerTime).renderHorizontalGridLines(!0).x(d3.scale.ordinal()).xUnits(dc.units.ordinal).elasticY(!0).title(function(e){return Math.floor(e.key/10)+" Q"+e.key%10+": "+formatEuro(e.value)}).on("filtered",function(e,t){if(null!==t)quartalSelection[quarterNames.indexOf(t)]^=1;else for(var a=quarterNames.length-1;a>=0;a--)quartalSelection[a]=0;updateAllNonDC()}).on("renderlet.d",function(e){e.selectAll("rect.bar").on("mouseover",t).on("mouseleave",a),e.selectAll("g.x text").attr("dx","-28").attr("dy","-6").attr("transform","rotate(-90)"),e.selectAll("title").remove()}),timeBarChart.yAxis().ticks(4),timeBarChart.yAxis().tickFormat(function(e){return formatGuV(e,spendPerTime.top(1)[0].value)}),timeBarChart.xAxis().tickFormat(function(e){return Math.floor(e/10)+" Q"+e%10})},e.initLawBar=function(e){var t=function(t){var a=e.title()(t.data);filterTooltip.transition().duration(400).style("opacity",.9).style("left",d3.event.x+5+"px").style("top",d3.event.y-35+"px"),filterTooltip.html(a)},a=function(e){filterTooltip.transition().duration(500).style("opacity",0)};e.width(function(){return $("#laws-bar-chart").width()}).height(200).margins({top:10,right:10,bottom:60,left:80}).gap(5).dimension(lawsDim).group(spendPerLaw).x(d3.scale.ordinal()).xUnits(dc.units.ordinal).elasticX(!0).elasticY(!0).renderHorizontalGridLines(!0).title(function(e){return formatEuro(e.value)}).on("filtered",function(e,t){updateAllNonDC()}).on("renderlet.d",function(e){e.selectAll("rect.bar").on("mouseover",t).on("mouseleave",a),e.selectAll("title").remove()}),e.xAxis().tickFormat(function(e){return"§"+e}),e.yAxis().ticks(4),e.yAxis().tickFormat(function(e){return formatGuV(e,spendPerLaw.top(1)[0].value)})},e.initExpensesBar=function(e){e.width(function(){return $("#expenses-bar-chart").width()}).height(200).margins({top:10,right:10,bottom:60,left:40}).gap(1).dimension(spendDim).group(spendGroup).valueAccessor(function(e){return e.value.count}).transitionDuration(500).round(dc.round.floor).alwaysUseRounding(!0).x(d3.scale.linear().domain([0,1])).xUnits(dc.units.fp.precision(1)).elasticX(!0).elasticY(!0).renderHorizontalGridLines(!0).title(function(e){return formatEuro(e.value.total*binwidth)}).filterPrinter(function(e){var t=e[0],a="";return a+=formatGuV(t[0]*binwidth)+" - "+formatGuV(t[1]*binwidth)}).on("renderlet.d",function(e){e.selectAll("g.x text").attr("dx","-32").attr("dy","-5").attr("transform","rotate(-65)")}).on("filtered",function(e,t){updateAllNonDC()}),e.xAxis().tickFormat(function(e){return spendDim.top(1)[0]?formatGuV(e*binwidth,spendDim.top(1)[0].euro):formatGuV(e*binwidth)}),e.yAxis().ticks(4),e.yAxis().tickFormat(d3.format("d")).tickSubdivide(0)},e.initTrendBar=function(e){e.width(function(){return $("#trend-bar-chart").width()}).height(200).margins({top:10,right:10,bottom:60,left:40}).dimension(trendDim).group(trendGroup).valueAccessor(function(e){return e.value.count}).transitionDuration(500).x(d3.scale.linear().domain([-1,1]).range([-1,1])).xUnits(function(e){return e}).elasticY(!0).renderHorizontalGridLines(!0).title(function(e){return formatPercent(e.value.trend)}).filterHandler(function(e,t){return groupedLegalDim.all().forEach(function(e){sourceToValue[e.key]=e.value}),t[0]?e.filter(t[0]):e.filterAll(),t}).filterPrinter(function(e){var t=e[0];return formatPercent(t[0])+" - "+formatPercent(t[1])}).on("filtered",function(e,t){updateAllNonDC()}),e.xAxis().tickFormat(function(e){return formatPercent(e)}),e.xAxis().ticks(6),e.yAxis().ticks(4)}}),require.register("globalFunctions",function(e,t,a){function n(e){var t,a,n,r=0;if(0===e.length)return r;for(t=0,n=e.length;n>t;t++)a=e.charCodeAt(t),r=(r<<5)-r+a,r|=0;return r}locale=d3.locale({decimal:",",thousands:".",grouping:[3],currency:["","€"],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),formatEuro=locale.numberFormat("$,.2f"),formatBigEuro=locale.numberFormat("$,d"),formatPercent=locale.numberFormat("%");var r=function(e){var t=locale.numberFormat(",.1f")(e);return"0"==t.slice(-1)?t.substr(0,t.length-2):t},i=function(e){var t=Math.floor(e/1e3),a=Math.floor(t/1e3);return a>0?2:t>0?1:0};formatGuV=function(e,t,a){t="undefined"!=typeof t?t:e,a="undefined"!=typeof a?a:e;var n=i(a),l=i(t),o=n;switch(l>=n+1&&(o=l),o){case 0:return formatBigEuro(e);case 1:return r(e/1e3)+" Tsd.€";case 2:return r(e/1e6)+" Mil.€"}},textFilter=function(e,t,a){var n=new RegExp(".*"+t,"i");""!=t?e.filterFunction(function(e){return 0==nodes[e].name.search(n)}):e.filterAll(),updateAll()},showMediaSelectionInteraction=function(){$("#mediaSearch").val().length>0||mediaTableFilter.length>0?$("#mediaSearchReset").show():$("#mediaSearchReset").hide()},showLegalSelectionInteraction=function(){$("#legalSearch").val().length>0||legalTableFilter.length>0?$("#legalSearchReset").show():$("#legalSearchReset").hide()},resetSearchBox=function(e){"legal"==e?($("#legalSearch").val(""),legalDim2.filterAll(),legalTableFilter=new Array,legalDim.filterAll()):($("#mediaSearch").val(""),mediaDim2.filterAll(),mediaTableFilter=new Array,mediaDim.filterAll()),updateAll()},updateAll=function(){updateAllNonDC(),dc.redrawAll()},updateAllNonDC=function(){showLegalSelectionInteraction(),showMediaSelectionInteraction(),legalTablePaging.update(),mediaTablePaging.update(),showTags(),drawChords(legalDim)},filterAll=function(){resetSearchBox("legal"),resetSearchBox("media"),dc.filterAll()},rescaleAll=function(){timeBarChart.rescale(),lawsBarChart.rescale(),expensesBarChart.rescale(),trendBarChart.rescale(),resizeChordChart()};var l=function(e){e=n(e);for(var t=combinedObj.length-1;t>=0;t--)if(combinedObj[t].name==e)return l(e+Math.floor(10*Math.random()));return e};deleteData=function(e){var t,a=!0;if(e.top(1/0).forEach(function(e){(1==nodes[e.source].comb||1==nodes[e.target].comb)&&(a=!1)}),a?t=prompt("Name der gelöschten Daten",e==legalDim?nodes[e.top(1)[0].source].name:nodes[e.top(1)[0].target].name):alert("Kombinierte Daten können nicht gelöscht werden."),a&&t){var n=[];e.top(1/0).forEach(function(e){var t=jQuery.extend(!0,{},e);n.push(t)}),ndxLinks.remove(e),e==legalDim?legalTableFilter=new Array:mediaTableFilter=new Array,e.filterAll(),combinedObj.push({id:l(t),name:t,added:[],removed:n,type:"remove"}),hasLocalStorage&&localStorage.setItem("combinedObj",JSON.stringify(combinedObj)),updateAll()}},combineData=function(e){var t,a=!0;if(e.top(1/0).forEach(function(e){(1==nodes[e.source].comb||1==nodes[e.target].comb)&&(a=!1)}),a?t=prompt("Name der kombinierten Daten",e==legalDim?nodes[e.top(1)[0].source].name:nodes[e.top(1)[0].target].name):alert("Schonmal kombinierte Daten können nicht nochmal zusammengefügt werden."),a&&t){var n=[],r=[],i=nodes.length,o=e==legalDim;o?legalTableFilter:mediaTableFilter;e.top(1/0).forEach(function(e){var t=jQuery.extend(!0,{},e);n.push(t);var a=jQuery.extend(!0,{},e);o?a.source=i:a.target=i,r.push(a)}),ndxLinks.remove(),nodes.push({name:t,gov:o,comb:1}),ndxLinks.add(r),resetSearchBox(o?"legal":"media"),combinedObj.push({id:l(t),name:t,added:r,removed:n,type:"combine"}),hasLocalStorage&&localStorage.setItem("combinedObj",JSON.stringify(combinedObj)),updateAll()}};var o=function(e,t,a){tagTooltip.empty();var n="<table><tr><th>Rechtsträger</th><th>Media</th><th>Quartal</th><th>Summe</th></tr>";"combine"==e.type?e.removed.forEach(function(e){n+="<tr><td> "+shortenLongName(nodes[e.source].name)+"</td><td>"+shortenLongName(nodes[e.target].name)+"</td><td>"+e.year+" Q"+e.quarter+"</td><td class='num'>"+formatEuro(e.euro)+"</td></tr>"}):e.removed.forEach(function(e){n+="<tr><td> "+shortenLongName(nodes[e.source].name)+"</td><td>"+shortenLongName(nodes[e.target].name)+"</td><td>"+e.year+" Q"+e.quarter+"</td><td class='num'>"+formatEuro(e.euro)+"</td></tr>"}),tagTooltip.append(n+"</table>"),tagTooltip.css({top:a+12}),tagTooltip.show()},s=function(){tagTooltip.hide()};showTags=function(){var e=$("#combine-blocks");e.empty();var t=0;combinedObj.forEach(function(a){$('<span class="tag '+a.type+'">'+shortenLongName(a.name)+'<button class="btn" onClick="javascript:resolveCombineData(\''+t+'\')"><span class="glyphicon glyphicon-remove"></span></button></span>').hover(function(e){o(a,e.clientX,e.clientY)},function(e){s()}).appendTo(e);t++})},resolveCombineData=function(e){tagTooltip.hide(),filterAll();var t=jQuery.extend(!0,{},combinedObj[+e]);combinedObj.splice(+e,1),t.added.length>0&&(sourceArr=t.added.map(function(e){return e.source}),targetArr=t.added.map(function(e){return e.target}),lawsArr=t.added.map(function(e){return e.law}),timeArr=t.added.map(function(e){return 10*+e.year+e.quarter}),moneyArr=t.added.map(function(e){return Math.floor(+e.euro/binwidth)}),legalDim.filterFunction(function(e){return sourceArr.indexOf(e)>-1}),mediaDim.filterFunction(function(e){return targetArr.indexOf(e)>-1}),lawsDim.filterFunction(function(e){return lawsArr.indexOf(e)>-1}),timeDim.filterFunction(function(e){return timeArr.indexOf(e)>-1}),spendDim.filterFunction(function(e){return moneyArr.indexOf(e)>-1}),ndxLinks.remove(),legalDim.filterAll(),mediaDim.filterAll(),lawsDim.filterAll(),timeDim.filterAll(),spendDim.filterAll()),ndxLinks.add(t.removed),updateAll()},chordTooltipUpdate=function(e){e.gname?($("#ttLegal").prev().hide(),$("#ttLegal").text(nodes[+e.gname].name),$("#ttMedia").prev().hide(),$("#ttMedia").text(""),$("#ttFrom").text(formatEuro(e.gvalue)),$("#ttTo").prev().hide(),$("#ttTo").hide()):($("#ttLegal").prev().show(),$("#ttMedia").prev().show(),$("#ttTo").prev().show(),$("#ttTo").show(),1==nodes[+e.sname].gov?($("#ttLegal").text(nodes[+e.sname].name),$("#ttMedia").text(nodes[+e.tname].name),$("#ttFrom").text(formatEuro(e.svalue)),$("#ttTo").text(formatEuro(e.stotal))):($("#ttLegal").text(nodes[+e.tname].name),$("#ttMedia").text(nodes[+e.sname].name),$("#ttFrom").text(formatEuro(e.tvalue)),$("#ttTo").text(formatEuro(e.ttotal))))},shortenLongName=function(e,t){return t="undefined"!=typeof t?t:30,e.length>t&&(e=e.substr(0,t-10)+"..."+e.substr(-7)),e},numericAscendingGlyph="glyphicon-sort-by-order",numericDescendingGlyph="glyphicon-sort-by-order-alt",ordinalAscendingGlyph="glyphicon-sort-by-alphabet",ordinalDescendingGlyph="glyphicon-sort-by-alphabet-alt",legalTableSortingStatus={alphabet:ordinalAscendingGlyph,relation:numericAscendingGlyph,sum:numericAscendingGlyph,trend:numericAscendingGlyph},mediaTableSortingStatus={alphabet:ordinalAscendingGlyph,relation:numericAscendingGlyph,sum:numericAscendingGlyph,trend:numericAscendingGlyph},tableSorting={alphabet:function(e){return nodes[e.key].name},relation:function(e){return e.value.count},sum:function(e){return e.value.total},trend:function(e){return e.value.trend}},legalTableSorting="sum",mediaTableSorting="sum",legalTableOrdering={alphabet:d3.descending,relation:d3.ascending,sum:d3.descending,trend:d3.ascending},mediaTableOrdering={alphabet:d3.descending,relation:d3.ascending,sum:d3.descending,trend:d3.ascending},legalTableFilter=new Array,mediaTableFilter=new Array,TablePaging=function(e,t,a,n){this._ofs=t,this._pag=a,this._table=e,this._parentId=n},TablePaging.prototype.display=function(){var e,t=this._ofs+this._pag;e="#legal-paging"==this._parentId?groupedLegalDim.all().length:groupedMediaDim.all().length;var a=t>=e;t=a?e:t,d3.select(this._parentId+" #begin").text(this._ofs+1),d3.select(this._parentId+" #end").text(t),d3.select(this._parentId+" #last").attr("disabled",this._ofs-this._pag<0?"true":null),d3.select(this._parentId+" #next").attr("disabled",a?"true":null)},TablePaging.prototype.update=function(){this._table.beginSlice(this._ofs),this._table.endSlice(this._ofs+this._pag),this.display()},TablePaging.prototype.next=function(){this._ofs+=this._pag,this.update(),this._table.redraw()},TablePaging.prototype.last=function(){this._ofs-=this._pag,this.update(),this._table.redraw()}}),require.register("listeners",function(e,t,a){e.create=function(){function e(e){var t=$(e+" .sorted");t.removeClass("sorted")}function t(t,a){e("#legal-table");var n=a.children().first();n.removeClass(),n.addClass("sorted glyphicon "+legalTableSortingStatus[legalTableSorting]),t.order(legalTableOrdering[legalTableSorting]).sortBy(tableSorting[legalTableSorting]).redraw()}function a(t,a){e("#media-table");var n=a.children().first();n.removeClass(),n.addClass("sorted glyphicon "+mediaTableSortingStatus[mediaTableSorting]),t.order(mediaTableOrdering[mediaTableSorting]).sortBy(tableSorting[mediaTableSorting]).redraw()}function n(e,n,r){e?(legalTableOrdering[legalTableSorting]==d3.descending?(legalTableOrdering[legalTableSorting]=d3.ascending,legalTableSortingStatus[legalTableSorting]=n?ordinalAscendingGlyph:numericAscendingGlyph):(legalTableOrdering[legalTableSorting]=d3.descending,legalTableSortingStatus[legalTableSorting]=n?ordinalDescendingGlyph:numericDescendingGlyph),t(legalTable,r)):(mediaTableOrdering[mediaTableSorting]==d3.descending?(mediaTableOrdering[mediaTableSorting]=d3.ascending,mediaTableSortingStatus[mediaTableSorting]=n?ordinalAscendingGlyph:numericAscendingGlyph):(mediaTableOrdering[mediaTableSorting]=d3.descending,mediaTableSortingStatus[mediaTableSorting]=n?ordinalDescendingGlyph:numericDescendingGlyph),a(mediaTable,r))}tagTooltip=$("#tag-tooltip"),sparklineTooltip=d3.select("#sparkline-tooltip"),filterTooltip=d3.select("#filter-tooltip"),chordTooltip=d3.select("#chord-tooltip"),$("#legalSearchForm").submit(function(){return textFilter(legalDim2,$("#legalSearch").val(),legalTable),!1}),$("#mediaSearchForm").submit(function(){return textFilter(mediaDim2,$("#mediaSearch").val(),mediaTable),!1}),$("#legalAlphabetOrder").click(function(){legalTableSorting="alphabet",n(!0,!0,$(this))}),$("#legalRelationOrder").click(function(){legalTableSorting="relation",n(!0,!1,$(this))}),$("#legalSumOrder").click(function(){legalTableSorting="sum",n(!0,!1,$(this))}),$("#legalTrendOrder").click(function(){legalTableSorting="trend",n(!0,!1,$(this))}),$("#mediaAlphabetOrder").click(function(){mediaTableSorting="alphabet",n(!1,!0,$(this))}),$("#mediaRelationOrder").click(function(){mediaTableSorting="relation",n(!1,!1,$(this))}),$("#mediaSumOrder").click(function(){mediaTableSorting="sum",n(!1,!1,$(this))}),$("#mediaTrendOrder").click(function(){mediaTableSorting="trend",n(!1,!1,$(this))}),$(window).on("resize",function(){rescaleAll(),updateAll()})}}),require.register("matrixFactory",function(e,t,a){e.chordMatrix=function(){function e(e){var t=i[e.source.index],a=i[e.target.index];return a>t?t+"__"+a:a+"__"+t}var t,a,n=[],r=[],i=[],l={},o=function(){},s=function(){},d={};return d.update=function(){n=[],objs=[],entry={},a={groups:{},chords:{}},this.groups().forEach(function(e){a.groups[e._id]={startAngle:e.startAngle,endAngle:e.endAngle}}),this.chords().forEach(function(t){a.chords[e(t)]={source:{_id:t.source._id,startAngle:t.source.startAngle,endAngle:t.source.endAngle},target:{_id:t.target._id,startAngle:t.target.startAngle,endAngle:t.target.endAngle}}}),i=Object.keys(l);for(var d=0;d<i.length;d++){n[d]||(n[d]=[]);for(var c=0;c<i.length;c++)objs=r.filter(function(e){return o(e,l[i[d]],l[i[c]])}),entry=s(objs,l[i[d]],l[i[c]]),entry.valueOf=function(){return+this.value},n[d][c]=entry}return t.matrix(n),n},d.data=function(e){return r=e,this},d.filter=function(e){return o=e,this},d.reduce=function(e){return s=e,this},d.layout=function(e){return t=e,this},d.groups=function(){return t.groups().map(function(e){return e._id=i[e.index],e})},d.chords=function(){return t.chords().map(function(t){return t._id=e(t),t.source._id=i[t.source.index],t.target._id=i[t.target.index],t})},d.addKey=function(e,t){l[e]||(l[e]={name:e,data:t||{}})},d.addKeys=function(e,t){for(var a=0;a<r.length;a++)for(var n=0;n<e.length;n++)this.addKey(r[a][e[n]],t?t(r[a],e[n]):{});return this},d.resetKeys=function(){return l={},this},d.groupTween=function(e){return function(t,n){var r,i=a.groups[t._id];return r=i?d3.interpolateObject(i,t):d3.interpolateObject({startAngle:t.startAngle,endAngle:t.startAngle},t),function(t){return e(r(t))}}},d.chordTween=function(e){return function(t,n){var r,i,l=a.chords[t._id];if(l)t.source._id!==l.source._id&&(l={source:l.target,target:l.source}),r=d3.interpolateObject(l,t);else{if(a.groups){i=[];for(var o in a.groups)l=a.groups[o],(l._id===t.source._id||l._id===t.target._id)&&i.push(l);i.length>0?(l={source:i[0],target:i[1]||i[0]},t.source._id!==l.source._id&&(l={source:l.target,target:l.source})):l=t}else l=t;r=d3.interpolateObject({source:{startAngle:l.source.startAngle,endAngle:l.source.startAngle},target:{startAngle:l.target.startAngle,endAngle:l.target.startAngle}},t)}return function(t){return e(r(t))}}},d.read=function(e){var t,a={};return e.source?(a.sname=e.source._id,a.sdata=e.source.value,a.svalue=+e.source.value,a.stotal=n[e.source.index].reduce(function(e,t){return e+t},0),a.tname=e.target._id,a.tdata=e.target.value,a.tvalue=+e.target.value,a.ttotal=n[e.target.index].reduce(function(e,t){return e+t},0)):(t=l[e._id],a.gname=t.name,a.gdata=t.data,a.gvalue=e.value),a.mtotal=n.reduce(function(e,t){return e+t.reduce(function(e,t){return e+t},0)},0),a},d}}),require.register("tables",function(e,t,a){"use strict";var n=function(e){return"source"},r=function(e){var t=d3.select(this).attr("tooltip_title");sparklineTooltip.transition().duration(200).style("opacity",.9),sparklineTooltip.html(t).style("left",d3.event.x+"px").style("top",d3.event.y-28+"px")},i=function(){sparklineTooltip.transition().duration(500).style("opacity",0)},l=function(e,t){var a,n,l=t==legalDim;if(l?(a=groupedLegalDim,n=legalTableFilter):(a=groupedMediaDim,n=mediaTableFilter),0!=a.all().length){var o=[];e.selectAll("td._1").each(function(e,t){o[t]={};for(var a=0;a<quarterNames.length;a++)o[t][quarterNames[a]]=0});var s=d3.scale.linear().domain([0,d3.max(a.all(),function(e){return e.value.count})]).range(["0%","100%"]),d=(e.selectAll("td._2").classed("text-right",!0).append("div").classed("inlinebar",!0).style("width","0%").transition().duration(1e3).style("width",function(e){return s(Math.abs(e.value.count))}),d3.scale.linear().domain([-1,1]).range(["-100%","100%"])),c=(e.selectAll("td._3").classed("percent text-center",!0).append("div").attr("class",function(e){return"inlinebar "+(e.value.trend>0?"positiv":"negativ")}).style("width",function(e){return d(Math.abs(e.value.trend)/2)}).style("margin-left",function(e){return e.value.trend<0?d(.5+e.value.trend/2):"50%"}),0);t.filterAll(),e.selectAll("td._1").each(function(e,a){t.filter(e.key);for(var n=spendPerTime.all(),r=0;r<n.length;r++)o[a][n[r].key]=n[r].value,c=n[r].value>c?n[r].value:c;t.filterAll()}),n.length>0&&t.filterFunction(function(e){return n.indexOf(e)>-1});for(var u=d3.scale.linear().domain([0,c]).range(["0%","100%"]),p=!1,h=quartalSelection.length-1;h>=0&&!p;h--)p=1==quartalSelection[h];e.selectAll("td._0").classed("text-left",!0);for(var m=e.selectAll("td._1").classed("text-right",!0).append("div").attr("class","inlinesparkline"),g=m.style("width"),f=g.substr(0,g.length-2),h=0;h<quarterNames.length;h++)m.append("div").attr("class","sparklinecontainer").style("width",f/quarterNames.length-2+"px").attr("tooltip_title",function(e,t){var a=quarterNames[h];return Math.floor(a/10)+" Q"+a%10+" "+formatEuro(o[t][a])}).on("mouseover",r).on("mouseout",i).append("div").transition().duration(1e3).style("height",function(e,t){var a=Math.abs(o[t][quarterNames[h]]);return u(a)}).attr("class",function(e,t){var a=0==Math.abs(o[t][quarterNames[h]])?"sparklinenull":"";return p&&(a=quartalSelection[h]?a+" selected":a+" deselected"),a});e.selectAll(".dc-table-row").classed("dc-table-row-filtered",function(e){return n.indexOf(e.key)>-1?!0:!1}).classed("dc-table-row-combined",function(e){return nodes[e.key].comb}).attr("title",function(e){return nodes[e.key].comb?"Dieser Eintrag ist kombiniert worden. Um zu sehen aus welchen Einträgen schaue dir das Tooltip über dem Tag unter dem Chord Diagramm an.":""}).on("click",function(e){var a=n.indexOf(e.key);a>-1?n.length>1?(n.splice(a,1),t.filterFunction(function(e){return n.indexOf(e)>-1})):(t.filterAll(),n==legalTableFilter?legalTableFilter=new Array:mediaTableFilter=new Array):(n.push(e.key),
t.filterFunction(function(e){return n.indexOf(e)>-1})),updateAll()}).on("mouseover",function(e){}).on("mouseout",function(){})}};e.initCount=function(){var e=ndxLinks.groupAll();legalCount.dimension(groupedLegalDim).group(e).html({some:"<strong>%total-count</strong> Einträge"}),mediaCount.dimension(groupedMediaDim).group(e).html({some:"<strong>%total-count</strong> Einträge"})},e.initTables=function(){legalTable.dimension(groupedLegalDim).group(n).sortBy(tableSorting[legalTableSorting]).order(legalTableOrdering[legalTableSorting]).showGroups(!1).size(1/0).columns([function(e){return nodes[e.key].name},function(e){return formatEuro(e.value.total)},function(e){return e.value.count},function(e){return formatPercent(e.value.trend)}]).on("renderlet.a",function(e){l(e,legalDim)}),legalTablePaging.update(),mediaTable.dimension(groupedMediaDim).group(n).showGroups(!1).sortBy(tableSorting[mediaTableSorting]).order(mediaTableOrdering[mediaTableSorting]).size(1/0).columns([function(e){return nodes[e.key].name},function(e){return formatEuro(e.value.total)},function(e){return e.value.count},function(e){return formatPercent(e.value.trend)}]).on("renderlet.b",function(e){l(e,mediaDim)}),mediaTablePaging.update()}}),require.register("views/about",function(e,t,a){var n=function(e){var t=[];return t.push('<div class="content"><h1 id="-small-188-943-praktikum-aus-visual-computing-small-"><small>188.943 Praktikum aus Visual Computing</small></h1>\n<h1 id="investigating-media-transparency">Investigating Media Transparency</h1>\n<h2 id="abstract">Abstract</h2>\n<p>The &quot;media transparency database&quot; contains the accumulated amount of\nmoney spent by governmental organizations on media companies. This data\ncan be explored as a multimodal dynamic network. Existing web projects\nalready present solutions to visualize the dataset, but to analyse the\ndata further a user needs more interaction methods. This project implements a \ntask-tailored dashboard with multiple connected views, which implements\nbrushing and linking to enable the user to analyse the dataset\nin an easy to use matter.</p>\n<h2 id="problem-description">Problem Description</h2>\n<p><a name="Problem Description"></a></p>\n<p>Governmental advertisement in media and sponsorships are a possible way\nto influence press opinion. Therefore, the Austrian parliament passed a\nlaw that made it mandatory for governmental organizations to disclose\ntheir expenses for advertisements in different media (TV, radio, print,\nas well as online).</p>\n<p>This so-called &quot;media transparency database&quot; is made publicly available\nby the Austrian Regulatory Authority for Broadcasting and\nTelecommunications (<a href="https://www.rtr.at/de/m/veroeffentl_medkftg_daten">RTR</a>) via the Austrian open government data portal.\n It contains the accumulated amount of money transferred in a\ncertain quarter of the year for each governmental organization and media\ncompany. This database can be explored as a multimodal dynamic network.</p>\n<p>In Section <a href="#Related Work">Related Work</a> previous approaches of visualizing the\ndatabase are presented and in Section <a href="#Technologies">Technologies</a> the technologies are described.</p>\n<h3 id="data-structure">Data Structure</h3>\n<p><a name="Data Structure"></a></p>\n<p>The media transparency database is structured as a Table with each row\ncontaining a relation from one governmental organization\n(<em>Rechtsträger</em>) to one media company (<em>Medium</em>). This\nrelation contains the amount of transfered money (<em>Euro</em>), the quarter\nof the year (<em>Jahr Quartal</em>) and the law of the reason of the payment\n(<em>Gesetz</em>).</p>\n<p>The table contains over 145000 entries over 12 quarters. So that one\nquarter contains 13000 data entries. There are over 1000 governmental\norganizations and media companies.</p>\n<p>The data quality of the database is not sufficient enough for some data\nentries. These entries include spelling mistakes or are just differently\nformated.</p>\n<h2 id="related-work">Related Work</h2>\n<p><a name="Related Work"></a></p>\n<p>The “media transparency database” is available since the third quarter \nof 2012. Since then several visualizations got presented:</p>\n<ul>\n<li><p><a href="http://www.paroli-magazin.at/555/">[F. Lang]</a> presents a visualization that uses grouping of the media\nentities to reduce the screen space and complexity of\nthe visualization. It only uses one quarter of one year of the\ntotal data. It is possible to interact with the visualization and\nungroup the media entities.</p>\n</li>\n<li><p><a href="http://derstandard.at/2000017464403/Regierungsinserate-406-Millionen-im-ersten-Quartal">[M. Hametner]</a> presents a static visualization with bar charts and a line\nplot as a visualization for time oriented data by the Austrian\nnewspaper “Der Standard”.</p>\n</li>\n<li><p><a href="http://web.student.tuwien.ac.at/~e0920136/Files/MTDV/src/MTDV.html">[M. Schrempf]</a> \nimplemented a force-directed node link diagram.\nThe user of this visualization is able to interact with the data and\nfilter it with different queries. But the force-directed node link\ndiagram was too slow for the huge database.</p>\n</li>\n<li><p><a href="http://www.medien-transparenz.at/">[S. Peter et. al]</a> implemented a website to get an overview of the\nmedia dataset. It features multiple visualizations which are all\ninteractive but not connected to one dashboard.</p>\n</li>\n</ul>\n<p>The first two visualizations are presentations of an analysis of the\ndata. But the last two approaches are visualizations that support the\nuser to analyze and investigate into the data. The force directed node\nlink diagram has the problem that it is too slow to render a nice\noverview of the dynamic network. Additionally it is hard to interpret\nthe payment flow, because it is visually encoded in the size of the\nnodes of the diagram. </p>\n<p>The visualization of <a href="http://www.medien-transparenz.at/">[S. Peter et. al]</a> is stable, easy and fast to interact. But\nthe visualizations are distributed onto 4 different web pages, which\nmakes it hard to combine the insight of the user from one visualization\nwith the others. Additionally the payment flow visualization is\nrestricted to only 800 relations. </p>\n<h2 id="technologies">Technologies</h2>\n<p><a name="Technologies"></a></p>\n<p>The following technologies are used:</p>\n<ul>\n<li><em>JavaScript</em>: a script language to create dynamic client side webpage.</li>\n<li><a href="https://d3js.org/"><em>Data-Driven Documents</em></a>: A JavaScript library for manipulating documents based on data.</li>\n<li><a href="http://jquery.com/"><em>jQuery</em></a>: A fast, small, and feature-rich JavaScript library.</li>\n<li><a href="http://getbootstrap.com/"><em>Bootstrap</em></a>: A framework for developing responsive, mobile first projects on the web.</li>\n<li><a href="http://brunch.io/"><em>Brunch</em></a>: A <a href="https://nodejs.org">node.js</a> build tool to compile scripts and styles and to concatenate scripts and styles.</li>\n<li><em>clean-css</em>: Is a <a href="https://nodejs.org">node.js</a> library for minifying CSS files.</li>\n<li><em>uglify-js</em>: Is a <a href="https://nodejs.org">node.js</a> library for minifying JavaScript files.</li>\n<li><a href="http://square.github.io/crossfilter/"><em>crossfilter</em></a>: Is a JavaScript library to explore multivariate datasets with coordinated views.</li>\n<li><a href="https://dc-js.github.io/dc.js/"><em>DC</em></a>: Is a JavaScript library with native crossfilter support to create charts for multidimensional data exploration</li>\n<li><a href="https://git-scm.com/"><em>Git</em></a>: Is used as version control system.</li>\n</ul>\n</div>'),t.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof a&&a&&a.exports&&(a.exports=n)}),require.register("views/charts",function(e,t,a){var n=function(e){var t=[];return t.push('<!--h1 Media Transparency--><!--  br--><!--  small An Overview of Public Money spent on Media-Cooperations and -Funding in Austria--><div id="my-charts"></div><div id="my-bar-charts" class="row"><div id="time-bar-chart" class="col-sm-3"><strong>Quartale </strong><span class="chart-unit"></span><a href="javascript:timeBarChart.filterAll();updateAll();" style="display: none;" class="reset">reset</a><div class="clearfix"></div></div><div id="laws-bar-chart" class="col-sm-3"><strong>Rechtlicher Hintergrund </strong><span class="chart-unit"></span><a href="javascript:lawsBarChart.filterAll();updateAll();" style="display: none;" class="reset">reset</a><div class="clearfix"></div></div><div id="expenses-bar-chart" class="col-sm-3"><strong>Ausgaben </strong><span class="chart-unit"></span><span style="display: none;" class="reset">Filter: <span class="filter"></span> </span><a href="javascript:expensesBarChart.filterAll();updateAll();" style="display: none;" class="reset">reset</a><div class="clearfix"></div></div><div id="trend-bar-chart" class="col-sm-3"><strong>Trend </strong><span class="chart-unit"></span><span style="display: none;" class="reset">Filter: <span class="filter"></span> </span><a href="javascript:trendBarChart.filterAll();updateAll();" style="display: none;" class="reset">reset</a><div class="clearfix"></div></div><div id="filter-tooltip" class="myTooltip"></div></div><div id="my-tables" class="row"><div class="col-sm-4"><div class="row"><div class="span12"><form id="legalSearchForm" class="custom-search-form search-form form-horizontal pull-right"><div class="input-append span12"><input type="text" placeholder="Filter Rechtsträger" title="Durchsuche die Tabelle nach einem Wort" id="legalSearch" class="search-query mac-style"/><button class="btn"><span class="glyphicon glyphicon-search"></span></button></div></form></div></div><span id="data-count-legal"></span><div id="legalSearchReset"><strong>Auswahl </strong><a href="javascript:resetSearchBox(\'legal\');" title="Setzt den Filter aus der Textbox und aus der Tabelle zurück">zurücksetzten</a>|<a href="javascript:combineData(legalDim);" title="Fügt alle momentan ausgewählten Einträge in der Tabelle zu einem Eintrag zusammen">kombinieren</a>|<a href="javascript:deleteData(legalDim);" title="Löscht alle momentan ausgewählten Einträge aus der Tabelle">löschen</a></div><table id="legal-table" class="table table-hover my-data-table"><thead><th data-col="a" class="data-table-col _1">Rechtsträger<button title="Nach dem Alphabet sortieren" id="legalAlphabetOrder" class="btn"><span class="glyphicon glyphicon-sort-by-alphabet"></span></button></th><th data-col="c" class="data-table-col _2">Summe<button title="Nach der Summe an transferiertem Geld sortieren" id="legalSumOrder" class="btn"><span class="glyphicon glyphicon-sort-by-order-alt sorted"></span></button></th><th data-col="b" title="Relationen" class="data-table-col _3">#<button title="Nach der Anzahl der Relationen sortieren" id="legalRelationOrder" class="btn"><span class="glyphicon glyphicon-sort-by-order-alt"></span></button></th><th data-col="d" class="data-table-col _4">Trend<button title="Nach dem Trend sortieren" id="legalTrendOrder" class="btn"><span class="glyphicon glyphicon-sort-by-order-alt"></span></button></th></thead></table><div id="legal-paging" class="paging">Zeige <span id="begin"></span>-<span id="end"></span> <button onclick="javscript:legalTablePaging.last();" id="last" class="btn">vorige</button><button onclick="javscript:legalTablePaging.next();" id="next" class="btn">nächste</button></div></div><div class="col-sm-4"><div class="clearfix"></div><a href="javascript:filterAll();updateAll();" title="Setzt alle Filter zurück" class="reset">alle Filter zurücksetzen</a><div class="clearfix"></div><div id="chord-chart"></div><fieldset id="chord-tooltip" class="myTooltip row secondary"><div class="large-12 columns"><span>von</span><h4 id="ttLegal"></h4></div><div class="large-12 columns"><span>nach</span><h4 id="ttMedia"></h4></div><div class="large-12 columns"><span id="ttFrom"></span><span>/</span><span id="ttTo"></span></div></fieldset><div class="clearfix"></div><div id="tag-tooltip" style="display: none;" class="myTooltip"></div><div id="combine-blocks"></div></div><div id="media-table-column" class="col-sm-4"><div class="row"><div class="span12"><form id="mediaSearchForm" class="custom-search-form search-form form-horizontal pull-right"><div class="input-append span12"><input type="text" placeholder="Filter Media" title="Durchsuche die Tabelle nach einem Wort" id="mediaSearch" class="search-query mac-style"/><button class="btn"><span class="glyphicon glyphicon-search"></span></button></div></form></div></div><span id="data-count-media"></span><div id="mediaSearchReset"><strong>Auswahl </strong><a href="javascript:resetSearchBox(\'media\');" title="Setzt den Filter aus der Textbox und aus der Tabelle zurück">zurücksetzten</a>|<a href="javascript:combineData(mediaDim);" title="Fügt alle momentan ausgewählten Einträge in der Tabelle zu einem Eintrag zusammen">kombinieren</a>|<a href="javascript:deleteData(mediaDim);" title="Löscht alle momentan ausgewählten Einträge aus der Tabelle">löschen</a></div><table id="media-table" class="table table-hover my-data-table"><thead><th data-col="a" class="data-table-col _1">Media <button title="Nach dem Alphabet sortieren" id="mediaAlphabetOrder" class="btn"><span class="glyphicon glyphicon-sort-by-alphabet"></span></button></th><th data-col="c" class="data-table-col _2">Summe <button title="Nach der Summe an transferiertem Geld sortieren" id="mediaSumOrder" class="btn"><span class="glyphicon glyphicon-sort-by-order-alt sorted"></span></button></th><th data-col="b" title="Relationen" class="data-table-col _3">#<button title="Nach der Anzahl der Relationen sortieren" id="mediaRelationOrder" class="btn"><span class="glyphicon glyphicon-sort-by-order-alt"></span></button></th><th data-col="d" title="Veränderung der Summe der Transaktionen von der ersten Hälfte der Quartale zur Zweiten" class="data-table-col _4">Trend<button title="Nach dem Trend sortieren" id="mediaTrendOrder" class="btn"><span class="glyphicon glyphicon-sort-by-order-alt">     </span></button></th></thead></table><div id="media-paging" class="paging">Zeige <span id="begin"></span>-<span id="end"></span> <button onclick="javscript:mediaTablePaging.last();" id="last" class="btn">vorige</button><button onclick="javscript:mediaTablePaging.next();" id="next" class="btn">nächste</button></div><div id="sparkline-tooltip" style="opacity:0" class="myTooltip"></div></div></div><div id="my-treeMaps" class="row"><!--    h2 Tree Maps--><!--    .col-sm-6--><!--      strong Rechtsträger--><!--      a(href="javascript:legalTreeMap.filterAll();updateAll();",style="display: none;").reset reset--><!--      .clearfix--><!--      #legal-tree-map  --><!--    .col-sm-6--><!--      strong Media--><!--      a(href="javascript:mediaTreeMap.filterAll();updateAll();",style="display: none;").reset reset--><!--      .clearfix--><!--      #media-tree-map    --></div>'),t.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof a&&a&&a.exports&&(a.exports=n)}),require.register("views/chordChart",function(e,t,a){var n=function(e){var t=[];return t.push('<div class="clearfix"></div><a href="javascript:filterAll();updateAll();" title="Setzt alle Filter zurück" class="reset">alle Filter zurücksetzen</a><div class="clearfix"></div><div id="chord-chart"></div><fieldset id="chord-tooltip" class="myTooltip row secondary"><div class="large-12 columns"><span>von</span><h4 id="ttLegal"></h4></div><div class="large-12 columns"><span>nach</span><h4 id="ttMedia"></h4></div><div class="large-12 columns"><span id="ttFrom"></span><span>/</span><span id="ttTo"></span></div></fieldset><div class="clearfix"></div><div id="tag-tooltip" style="display: none;" class="myTooltip"></div><div id="combine-blocks"></div>'),t.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof a&&a&&a.exports&&(a.exports=n)}),require.register("views/contact",function(e,t,a){var n=function(e){var t=[];return t.push("<h1>Investigating Media Transparency<br/><small>Implementation by <strong>David Pfahler</strong></small><br/><small><i>TU Wien 188.943 Praktikum aus Visual Computing</i></small></h1>"),t.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof a&&a&&a.exports&&(a.exports=n)}),require.register("views/filters",function(e,t,a){var n=function(e){var t=[];return t.push('<div id="time-bar-chart" class="col-sm-3"><strong>Quartale </strong><span class="chart-unit"></span><a href="javascript:timeBarChart.filterAll();updateAll();" style="display: none;" class="reset">reset</a><div class="clearfix"></div></div><div id="laws-bar-chart" class="col-sm-3"><strong>Rechtlicher Hintergrund </strong><span class="chart-unit"></span><a href="javascript:lawsBarChart.filterAll();updateAll();" style="display: none;" class="reset">reset</a><div class="clearfix"></div></div><div id="expenses-bar-chart" class="col-sm-3"><strong>Ausgaben </strong><span class="chart-unit"></span><span style="display: none;" class="reset">Filter: <span class="filter"></span> </span><a href="javascript:expensesBarChart.filterAll();updateAll();" style="display: none;" class="reset">reset</a><div class="clearfix"></div></div><div id="trend-bar-chart" class="col-sm-3"><strong>Trend </strong><span class="chart-unit"></span><span style="display: none;" class="reset">Filter: <span class="filter"></span> </span><a href="javascript:trendBarChart.filterAll();updateAll();" style="display: none;" class="reset">reset</a><div class="clearfix"></div></div><div id="filter-tooltip" class="myTooltip"></div>'),t.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof a&&a&&a.exports&&(a.exports=n)}),require.register("views/nav",function(e,t,a){var n=function(e){var t=[];return t.push('<!-- Fixed navbar--><div role="navigation" class="navbar navbar-default navbar-fixed-top"><div class="container"><div class="navbar-header"><button type="button" data-toggle="collapse" data-target=".navbar-collapse" class="navbar-toggle"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="#" class="navbar-brand">Media Transparency</a></div><div class="navbar-collapse collapse"><ul class="nav navbar-nav"><li><a href="index.html">Home</a></li><li><a href="about.html">About</a></li><li><a href="contact.html">Contact</a></li></ul></div><!-- /.nav-collapse--></div></div>'),t.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof a&&a&&a.exports&&(a.exports=n)}),require.register("views/table",function(e,t,a){var n=function(e){var t=[];return t.push('<div class="col-sm-4"><div class="row"><div class="span12"><form id="legalSearchForm" class="custom-search-form search-form form-horizontal pull-right"><div class="input-append span12"><input type="text" placeholder="Filter Rechtsträger" title="Durchsuche die Tabelle nach einem Wort" id="legalSearch" class="search-query mac-style"/><button class="btn"><span class="glyphicon glyphicon-search"></span></button></div></form></div></div><span id="data-count-legal"></span><div id="legalSearchReset"><strong>Auswahl </strong><a href="javascript:resetSearchBox(\'legal\');" title="Setzt den Filter aus der Textbox und aus der Tabelle zurück">zurücksetzten</a>|<a href="javascript:combineData(legalDim);" title="Fügt alle momentan ausgewählten Einträge in der Tabelle zu einem Eintrag zusammen">kombinieren</a>|<a href="javascript:deleteData(legalDim);" title="Löscht alle momentan ausgewählten Einträge aus der Tabelle">löschen</a></div><table id="legal-table" class="table table-hover my-data-table"><thead><th data-col="a" class="data-table-col _1">Rechtsträger<button title="Nach dem Alphabet sortieren" id="legalAlphabetOrder" class="btn"><span class="glyphicon glyphicon-sort-by-alphabet"></span></button></th><th data-col="c" class="data-table-col _2">Summe<button title="Nach der Summe an transferiertem Geld sortieren" id="legalSumOrder" class="btn"><span class="glyphicon glyphicon-sort-by-order-alt sorted"></span></button></th><th data-col="b" title="Relationen" class="data-table-col _3">#<button title="Nach der Anzahl der Relationen sortieren" id="legalRelationOrder" class="btn"><span class="glyphicon glyphicon-sort-by-order-alt"></span></button></th><th data-col="d" class="data-table-col _4">Trend<button title="Nach dem Trend sortieren" id="legalTrendOrder" class="btn"><span class="glyphicon glyphicon-sort-by-order-alt"></span></button></th></thead></table><div id="legal-paging" class="paging">Zeige <span id="begin"></span>-<span id="end"></span> <button onclick="javscript:legalTablePaging.last();" id="last" class="btn">vorige</button><button onclick="javscript:legalTablePaging.next();" id="next" class="btn">nächste</button></div></div><div class="col-sm-4"><div class="clearfix"></div><a href="javascript:filterAll();updateAll();" title="Setzt alle Filter zurück" class="reset">alle Filter zurücksetzen</a><div class="clearfix"></div><div id="chord-chart"></div><fieldset id="chord-tooltip" class="myTooltip row secondary"><div class="large-12 columns"><span>von</span><h4 id="ttLegal"></h4></div><div class="large-12 columns"><span>nach</span><h4 id="ttMedia"></h4></div><div class="large-12 columns"><span id="ttFrom"></span><span>/</span><span id="ttTo"></span></div></fieldset><div class="clearfix"></div><div id="tag-tooltip" style="display: none;" class="myTooltip"></div><div id="combine-blocks"></div></div><div id="media-table-column" class="col-sm-4"><div class="row"><div class="span12"><form id="mediaSearchForm" class="custom-search-form search-form form-horizontal pull-right"><div class="input-append span12"><input type="text" placeholder="Filter Media" title="Durchsuche die Tabelle nach einem Wort" id="mediaSearch" class="search-query mac-style"/><button class="btn"><span class="glyphicon glyphicon-search"></span></button></div></form></div></div><span id="data-count-media"></span><div id="mediaSearchReset"><strong>Auswahl </strong><a href="javascript:resetSearchBox(\'media\');" title="Setzt den Filter aus der Textbox und aus der Tabelle zurück">zurücksetzten</a>|<a href="javascript:combineData(mediaDim);" title="Fügt alle momentan ausgewählten Einträge in der Tabelle zu einem Eintrag zusammen">kombinieren</a>|<a href="javascript:deleteData(mediaDim);" title="Löscht alle momentan ausgewählten Einträge aus der Tabelle">löschen</a></div><table id="media-table" class="table table-hover my-data-table"><thead><th data-col="a" class="data-table-col _1">Media <button title="Nach dem Alphabet sortieren" id="mediaAlphabetOrder" class="btn"><span class="glyphicon glyphicon-sort-by-alphabet"></span></button></th><th data-col="c" class="data-table-col _2">Summe <button title="Nach der Summe an transferiertem Geld sortieren" id="mediaSumOrder" class="btn"><span class="glyphicon glyphicon-sort-by-order-alt sorted"></span></button></th><th data-col="b" title="Relationen" class="data-table-col _3">#<button title="Nach der Anzahl der Relationen sortieren" id="mediaRelationOrder" class="btn"><span class="glyphicon glyphicon-sort-by-order-alt"></span></button></th><th data-col="d" title="Veränderung der Summe der Transaktionen von der ersten Hälfte der Quartale zur Zweiten" class="data-table-col _4">Trend<button title="Nach dem Trend sortieren" id="mediaTrendOrder" class="btn"><span class="glyphicon glyphicon-sort-by-order-alt">     </span></button></th></thead></table><div id="media-paging" class="paging">Zeige <span id="begin"></span>-<span id="end"></span> <button onclick="javscript:mediaTablePaging.last();" id="last" class="btn">vorige</button><button onclick="javscript:mediaTablePaging.next();" id="next" class="btn">nächste</button></div><div id="sparkline-tooltip" style="opacity:0" class="myTooltip"></div></div>'),t.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof a&&a&&a.exports&&(a.exports=n)}),require.register("views/treeMaps",function(e,t,a){var n=function(e){var t=[];return t.push('<!--    h2 Tree Maps--><!--    .col-sm-6--><!--      strong Rechtsträger--><!--      a(href="javascript:legalTreeMap.filterAll();updateAll();",style="display: none;").reset reset--><!--      .clearfix--><!--      #legal-tree-map  --><!--    .col-sm-6--><!--      strong Media--><!--      a(href="javascript:mediaTreeMap.filterAll();updateAll();",style="display: none;").reset reset--><!--      .clearfix--><!--      #media-tree-map    -->'),t.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof a&&a&&a.exports&&(a.exports=n)});